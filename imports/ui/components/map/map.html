<template name="map">
  <button type="button" class="toggleImages btn btn-default"> Toggle Images </button>
  <div class="col-md-8" style="overflow-x:auto;">
    <table id="smallMap">
      {{#each mapRows}}
      <tr>
          {{#each this}}
          <td class="emptyClass mapCell {{this.loc}}" id="{{this.loc}}">
              {{#if imageMode}}
                <img class="mapTileImage mapCell {{this.loc}}" src = "{{this.image}}" style="width:60px; height:60px; background-color:{{this.bgColor}}">
              {{else}}
                {{this.text}}&emsp;
              {{/if}}
          </td>
          {{/each}}
      </tr>
      {{/each}}
    </table>
  </div>
  <div class="col-md-4" style="padding-left: 4%;">
    <div class="top-sidebar" style="padding-top: 2%; padding-bottom: 4%;">
        <p style="font-size: 2em; font-size: 30px; font-weight: 500px">Buildings</p>
      <div class="slider-building">
        {{#each build in boughtBuildings}}
          <div class="col-md-8 boughtBuilding" style="border-style: outset; margin-right: 4%;">
              <h3><img class="" src = "../img/buildings/claymine.png" style="width:80px; height:80px; display: block; margin-left: auto; margin-right: auto;"></h3> 
            <!--{{build.name}}-->
            <p>Produce</p>
            <p>Consume</p>
            {{#if buildingPlacable build}}
              <button class="btn btn-primary placeBuilding" id="{{build._id}}" style="display: block; margin-left: auto; margin-right: auto; margin-bottom: 4%;"> Place Building </button>
            {{/if}}
            <!-- {{buildingPlacable build}} -->
        </div>
        {{/each}}
      </div>
    </div>
    <div class = "bottom-sidebar">
      <p style="font-size: 2em; font-size: 30px; font-weight: 500px">Information Panel</p>
      <div style="border: 1px solid grey; padding: 2%; text-align: center;">
          <h3><img class="" src = "../img/buildings/claymine.png" style="width:80px; height:80px; display: block; margin-left: auto; margin-right: auto;"></h3> 
              {{#each currentBuilding.text}}
                {{this}} <br />
              {{/each}}
              {{#if currentBuilding.buildingButtons}}
              <div style="text-align: center; margin-top: 4%;margin-bottom: 4%;">
                <button class="btn btn-default toggleBuilding" id="{{currentBuilding.mapCell.building._id}}"> Toggle - {{currentBuilding.status}} </button>
                <button class="btn btn-danger removeBuilding"  id="remove-{{currentBuilding.mapCell.building._id}}"> Remove Building </button>
              </div>
              {{/if}}
              <!-- {{#else}} -->
      </div>
    </div>
  </div>
</template>

